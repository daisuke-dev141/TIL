# 2025-12-24 TIL

## 今日のテーマ

組み込み関数

---

## 学んだこと ①

### 文字列関数

- 文字列を特定の区切りで分割した配列にする:explode 関数`$ret8 = explode(",", $data);`、逆が implode
- 部分文字列の登場回数をカウントする:mb_substr_count 関数`mb_substr_count($data, ",")`
- ひらがな ⇔ カタカナの変換ができる:mb_convert_kana 関数`mb_convert_kana($str4, 'RKV')`

---

## 学んだこと ②

### 配列関数

- 配列の要素数を取得する：count 関数`count($data)`
- 配列結合する：array_merge 関数`array_merge($ary1, $ary2)`
- 配列の先頭/末尾に要素を追加/削除する：array_push(末尾に追加)/array_pop(末尾から削除)/array_unshift(先頭に追加)/array_shift(末尾に追加)関数
- 配列の内容を並べ替える:sort(昇順),rsort(降順)関数

---

## 学んだこと ③

### その他の関数

- 特別関数：is_null,empty,isset
  | 変数の状態 | isset($var) | empty($var) | is_null($var) |
  | ---------------- | ----------- | ----------- | -------------- |
  | 未定義の変数 | false | true | Error (Notice) |
  | null | false | true | true |
  | ""（空文字） | true | true | false |
  | 0（数値） | true | true | false |
  | "0"（文字列） | true | true | false |
  | false（論理値） | true | true | false |
  | []（空の配列） | true | true | false |
  | true（論理値） | true | false | false |
  | "text"（文字列） | true | false | false |

- していた文字列長をだけを取得する：mb_strimwidth 関数`mb_strimwidth($html, 0, 30, "・・・")`、全角を 1 文字で幅 2 と数えられる
- 文字列に含まれるタグを無効化する：htmlspacialchars
- 文字列に含まれるタグを取り除く：strip_tags
- 改行文字を HTML の改行タグに変換する：nl2br()、`echo nl2br("改行文字を\nHTMLの改行タグに変換する";);`
