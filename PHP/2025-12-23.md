# 2025-12-23 TIL

## 今日のテーマ

組み込み関数

---

## 学んだこと ①

### 組み込み関数について

- PHPが標準で提供する関数。
- 文字列関数、配列関数、正規表現関数、ファイルシステム関数、数学関数、変数操作関数などがある。

## 学んだこと ②

### 文字列関数

- 日本語(マルチバイト文字)の1文字は、UTF-8では1文字3バイトである。
- それぞれ学んだものをphpの記述で下に示す

#### 例

```php
echo "<h3>１．文字列の長さ(文字数)を取得する:mb_strlen関数</h3>";

$str = 'WINGSプロジェクト';
$strength = mb_strlen($str);

echo "「{$str}」の文字数は{$strength}です";

echo "<h3>２．文字列を大文字⇔小文字で変換:mb_convert_case関数</h3>";
$data1 = "Wings project";
$data2 = "ＷＩＮＧＳプロジェクト";
$data3 = "fußball";

$ret1 = mb_convert_case($data1, MB_CASE_UPPER);
$ret2 = mb_convert_case($data2, MB_CASE_LOWER);
$ret3 = mb_convert_case($data3, MB_CASE_UPPER_SIMPLE);

echo "「{$data1}」を大文字にすると「{$ret1}」となる";

echo "<br>";
echo "「{$data2}」を大文字にすると「{$ret2}」となる";
echo "<br>";
echo "「{$data3}」を大文字にすると「{$ret3}」となる";

echo "<h3>３．文字列から切り取る:mb_substr関数</h3>";

$str = 'WINGSプロジェクト';
$start = 5;
$length = 3;
$end = -4;
$ret4 = mb_substr($str, $start, $length);
$ret5 = mb_substr($str, $start, $end);

echo "「{$str}」の", $start + 1, "文字目から{$length}文字切り取ると「{$ret4}」になる";

echo "<br>";
echo "「{$str}」の", $start + 1, "文字目以降で後ろから{$end}文字切り取ると「{$ret5}」になる";

echo "<h3>４．文字列から特定の文字列が見つかった位置を起点に文字列を切り取る:mb_strstr関数</h3>";

$str = 'WINGSプロジェクト';
$needle = "S";
$mode = true;  //true=前方をとる、false=後方をとる
$ret6 = mb_strstr($str, $needle, true);
echo "trueの場合「{$str}」の「{$needle}」を含めず前方「{$ret6}」を切り取る";
$ret7 = mb_strstr($str, $needle);
echo "<br>";
echo "未記入(false)の場合「{$str}」の「{$needle}」を含む後方「{$ret7}」を切り取る";

echo "<h4>練習問題ーqlip01@gmail.comを名前とドメインで分けろ</h4>";
$str2 = "qlip01@gmail.com";
$name = mb_strstr($str2, "@", true);
$domain = mb_strstr($str2, "@");
$domain = mb_substr($domain, 1);
echo "名前が{$name}でドメインが{$domain}です";

echo "<h3>５．文字列に含まれる特定の部分文字列を別の文字列で置き換える:str_replace関数</h3>";
$str3 = "にわにはにわにわとりがいる";
$str4 = str_replace("にわ", "ニワ", $str3, $cnt);
echo "「{$str3}」の文字列「にわ」を「ニワ」に変えると「{$str4}」となる";
