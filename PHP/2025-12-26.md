# 2025-12-26 TIL

## 今日のテーマ

リクエスト情報

---

## 学んだこと ①

### リクエスト情報について

- クライアントからサーバーに送信される情報のことをクライアント情報という
- HTTP はサーバーとクライアントが HTML で書かれた文章などの情報をやりとりする時に使われる情報手順(プロトコル)

---

## 学んだこと ②

### スーパーグローバル変数について

- PHP では、リクエスト情報を取得/操作するために`スーパーグローバル変数`という特殊な変数を公開している
- GET メソッドの URL は、閲覧履歴のログに残る、URL の後ろに自分が入力した検索キーワードがくっついてくる
- フォームに入力したデータを目に見えない形でサーバーに送り、処理してもらう、履歴に残らない
- 文字列に含まれる<,>,&,"などの HTML において特殊な意味を持つ文字をそれぞれ無害な文字列に置き換える処理を`HTMLエスケープ`といい、これをしないと`XSS`という脆弱性の原因にもつながる

```php
<?
function e(string $str, string $charset = 'UTF-8'): string
{
    $ret = htmlspecialchars($str, ENT_QUOTES | ENT_HTML5, $charset, false);
    return $ret;
}
>

<? require '../Encode.php';?>
・・中略・・
こんにちわ、<?=e($_POST['name'])?>さん！
```

- 複数の値を持つ要素(ckeckbox など)にアクセスする場合、`name="hoge[]"`のように配列にして出力は`implode`をつけて結合文字列で出力する必要がある
- 写真を挿入する場合、`../img<? echo $_POST["hoge"]>`のように書く、それか`$_FILES`を使って直接アップロードする
